{"ast":null,"code":"var __jsx = React.createElement;\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport AV from \"leancloud-storage\";\nimport dayjs from \"dayjs\";\nimport { useRouter } from \"next/router\";\nimport React, { useState, useEffect } from \"react\";\nimport { Menu, Dropdown, message } from \"antd\";\nimport styles from \"./index.module.scss\";\nimport Login from \"../Login\";\nComponents.defaultProps = {\n  menus: [],\n  profile: null,\n  userinfo: null\n};\n\nfunction Components(props) {\n  const {\n    userinfo,\n    menus,\n    profile\n  } = props;\n  const curUser = AV.User.current();\n  const {\n    0: curMenu,\n    1: setcurMenu\n  } = useState(null);\n\n  const menu = __jsx(React.Fragment, null, userinfo && __jsx(Menu, null, __jsx(Menu.Item, null, __jsx(Link, {\n    href: \"/admin/home\"\n  }, \"\\u521B\\u4F5C\\u4E2D\\u5FC3\")), __jsx(Menu.Item, {\n    danger: true,\n    onClick: () => {\n      localStorage.clear();\n      sessionStorage.clear();\n      window.location.reload();\n    }\n  }, \"\\u9000\\u51FA\\u767B\\u5F55\")));\n\n  const router = useRouter();\n  useEffect(() => {\n    if (router) {\n      menus.map(obj => {\n        if (router.query.cate1 === obj.key) {\n          setcurMenu(obj);\n        }\n\n        return obj;\n      });\n    }\n  }, [router]);\n  return __jsx(React.Fragment, null, profile && __jsx(React.Fragment, null, __jsx(\"div\", null, __jsx(Head, null, __jsx(\"title\", null, profile.title, curMenu ? `-${curMenu.title}` : \"\", router.pathname.includes(\"www/home\") ? \"-首页\" : \"\", router.pathname.includes(\"www/posts\") ? `-${profile.blogName}` : \"\")), __jsx(\"div\", {\n    className: styles.nav1\n  }, __jsx(\"div\", {\n    className: styles.nav\n  }, __jsx(\"div\", {\n    className: styles.nav_logo,\n    style: {\n      backgroundImage: `url(${profile.logo})`\n    }\n  }), __jsx(\"div\", {\n    className: styles.nav_link\n  }, __jsx(Link, {\n    href: \"/www/home\"\n  }, __jsx(\"div\", {\n    className: router.pathname.includes(\"www/home\") ? styles.nav_link_item_active : styles.nav_link_item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-fankuitianxie\"\n  }), \"\\u6587\\u7AE0\")), __jsx(\"div\", {\n    className: styles.nav_link_item,\n    onClick: () => {\n      message.info(\"开发中，即将开放\");\n    }\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-message_three_points\"\n  }), \"\\u7559\\u8A00\\u533A\"), profile.github && __jsx(\"a\", {\n    href: profile.github,\n    target: \"_blank\"\n  }, __jsx(\"div\", {\n    className: styles.nav_link_item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-github\"\n  }), \"Github\")), curUser ? __jsx(Dropdown, {\n    overlay: menu,\n    arrow: true,\n    placement: \"bottomRight\"\n  }, __jsx(\"div\", {\n    className: styles.link_login,\n    onClick: e => e.preventDefault()\n  }, __jsx(\"div\", {\n    className: styles.btn\n  }, __jsx(\"span\", null, curUser.attributes.username), __jsx(\"i\", {\n    className: \"iconfont icon-down\",\n    style: {\n      fontSize: 12\n    }\n  })))) : __jsx(Login, null, __jsx(\"p\", {\n    className: styles.nav_login\n  }, \"\\u767B\\u5F55/\\u6CE8\\u518C\"))))))));\n}\n\nexport default Components;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var __jsx = React.createElement;\nimport Head from 'next/head'; // import Link from 'next/link'\n\nimport AV from 'leancloud-storage';\nimport dayjs from 'dayjs';\nimport { useRouter } from 'next/router';\nimport React, { useState, useEffect } from 'react'; // import * as Scroll from 'react-scroll'\n\nimport { Link, Element, Events, animateScroll as scroll, scrollSpy, scroller } from 'react-scroll';\nimport styles from './index.module.scss';\n\nfunction Components(props) {\n  var _useState = useState(10),\n      finalminLevel = _useState[0],\n      setfinalminLevel = _useState[1];\n\n  var _useState2 = useState(10),\n      scrollTop = _useState2[0],\n      setscrollTop = _useState2[1];\n\n  var handleScroll = function handleScroll(event) {\n    setscrollTop(document.documentElement.scrollTop);\n  };\n\n  useEffect(function () {\n    window.addEventListener('scroll', handleScroll);\n    return function () {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n  useEffect(function () {\n    var nav = props.nav;\n    var minLevel = 10;\n    nav.map(function (obj) {\n      if (obj.level < minLevel) {\n        minLevel = obj.level;\n        return obj;\n      }\n    });\n    setfinalminLevel(minLevel);\n  }, [JSON.stringify(props.nav)]);\n  var nav = props.nav;\n  return __jsx(\"div\", {\n    className: \"article_category_list\",\n    style: scrollTop > 400 ? {\n      position: 'fixed',\n      top: 0\n    } : {}\n  }, nav && nav.length > 0 && __jsx(\"div\", {\n    className: styles.container\n  }, nav.map(function (obj, index) {\n    return __jsx(Link, {\n      key: \"\".concat(index + 1),\n      spy: true,\n      smooth: true // hashSpy={true}\n      // offset={50}\n      // duration={500}\n      // delay={1000}\n      // isDynamic={true}\n      // ignoreCancelEvents={false}\n      ,\n      to: obj.id\n    }, __jsx(\"div\", {\n      className: obj.level > finalminLevel ? styles.item_mini : styles.item,\n      style: obj.level > finalminLevel ? {\n        paddingLeft: 15 + 15 * (obj.level - finalminLevel)\n      } : {\n        fontWeight: 'bold'\n      }\n    }, __jsx(\"span\", {\n      className: styles.text\n    }, obj.text)));\n  })));\n}\n\nexport default Components;","map":null,"metadata":{},"sourceType":"module"}
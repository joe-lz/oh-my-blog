{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n// import { v4 as uuidv4 } from \"uuid\";\nimport shortid from 'shortid';\nexport default [{\n  title: '开发者',\n  key: shortid.generate(),\n  children: [{\n    title: 'iOS',\n    key: shortid.generate()\n  }, {\n    title: 'Android',\n    key: shortid.generate()\n  }, {\n    title: 'web',\n    key: shortid.generate()\n  }, {\n    title: '快应用',\n    key: shortid.generate()\n  }, {\n    title: '微信小程序',\n    key: shortid.generate()\n  }]\n}, {\n  title: '设计',\n  key: shortid.generate(),\n  children: [{\n    title: '交互设计',\n    key: shortid.generate()\n  }, {\n    title: 'UI设计',\n    key: shortid.generate()\n  }, {\n    title: '视觉设计',\n    key: shortid.generate()\n  }]\n}, {\n  title: '产品',\n  key: shortid.generate()\n}]; // 拖拽更新目录\n\nexport var handleformatData = function handleformatData(info, curMenu) {\n  var dropKey = info.node.props.eventKey;\n  var dragKey = info.dragNode.props.eventKey;\n  var dropPos = info.node.props.pos.split('-');\n  var dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n\n  var loop = function loop(data, key, callback) {\n    for (var i = 0; i < data.length; i++) {\n      if (data[i].key === key) {\n        return callback(data[i], i, data);\n      }\n\n      if (data[i].children) {\n        loop(data[i].children, key, callback);\n      }\n    }\n  };\n\n  var data = _toConsumableArray(curMenu); // Find dragObject\n\n\n  var dragObj;\n  loop(data, dragKey, function (item, index, arr) {\n    arr.splice(index, 1);\n    dragObj = item;\n  });\n\n  if (!info.dropToGap) {\n    // Drop on the content\n    loop(data, dropKey, function (item) {\n      item.children = item.children || []; // where to insert 示例添加到尾部，可以是随意位置\n\n      item.children.push(dragObj);\n    });\n  } else if ((info.node.props.children || []).length > 0 && // Has children\n  info.node.props.expanded && // Is expanded\n  dropPosition === 1 // On the bottom gap\n  ) {\n      loop(data, dropKey, function (item) {\n        item.children = item.children || []; // where to insert 示例添加到头部，可以是随意位置\n\n        item.children.unshift(dragObj);\n      });\n    } else {\n    var ar;\n    var i;\n    loop(data, dropKey, function (item, index, arr) {\n      ar = arr;\n      i = index;\n    });\n\n    if (dropPosition === -1) {\n      ar.splice(i, 0, dragObj);\n    } else {\n      ar.splice(i + 1, 0, dragObj);\n    }\n  }\n\n  return data;\n};","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport AV from 'leancloud-storage';\nimport dayjs from 'dayjs';\nimport { useRouter } from 'next/router';\nimport React, { useState, useEffect } from 'react';\nimport { BackTop, Button } from 'antd';\nimport styles from './index.module.scss';\nimport { userFolloweeNumber, userFollowerNumber } from 'src/service/user';\nComponents.defaultProps = {\n  curUserInfoJOSN: null\n};\n\nfunction Components(props) {\n  var _useState = useState(0),\n      num_followee = _useState[0],\n      setnum_followee = _useState[1];\n\n  var _useState2 = useState(0),\n      num_follower = _useState2[0],\n      setnum_follower = _useState2[1];\n\n  useEffect(function () {\n    function fetchData() {\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!props.curUserInfo) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.t0 = setnum_followee;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(userFolloweeNumber({\n                userItem: props.curUserInfo.attributes.user\n              }));\n\n            case 4:\n              _context.t1 = _context.sent;\n              (0, _context.t0)(_context.t1);\n              _context.t2 = setnum_follower;\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(userFollowerNumber({\n                userItem: props.curUserInfo.attributes.user\n              }));\n\n            case 9:\n              _context.t3 = _context.sent;\n              (0, _context.t2)(_context.t3);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    fetchData();\n  }, [props.curUserInfo]);\n  var curUserInfoJOSN = props.curUserInfo.toJSON();\n  return __jsx(React.Fragment, null, curUserInfoJOSN && __jsx(\"div\", {\n    className: styles.left\n  }, __jsx(\"div\", {\n    className: styles.avatar,\n    style: {\n      backgroundImage: \"url(\".concat(curUserInfoJOSN.avatar, \")\")\n    }\n  }), __jsx(\"div\", {\n    className: styles.nickname\n  }, curUserInfoJOSN.nickname), curUserInfoJOSN.position && __jsx(\"p\", {\n    className: styles.position\n  }, curUserInfoJOSN.position), curUserInfoJOSN.desc && __jsx(\"div\", {\n    className: styles.desc\n  }, curUserInfoJOSN.desc), AV.User.current() ? __jsx(React.Fragment, null, AV.User.current().id !== curUserInfoJOSN.user.objectId ? __jsx(Button, {\n    shape: \"round\",\n    className: styles.btn_follow\n  }, \"\\u5173\\u6CE8\") : __jsx(Link, {\n    href: \"/admin/user/account\"\n  }, __jsx(Button, {\n    shape: \"round\",\n    className: styles.btn_follow\n  }, \"\\u4FEE\\u6539\\u8D44\\u6599\"))) : __jsx(Link, {\n    href: \"/admin/user/account\"\n  }, __jsx(Button, {\n    shape: \"round\",\n    className: styles.btn_follow\n  }, \"\\u5173\\u6CE8\")), __jsx(\"p\", {\n    className: styles.follows_num\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-personnel\"\n  }), __jsx(\"span\", {\n    className: styles.num\n  }, num_followee), \"\\u5173\\u6CE8\\u8005\", __jsx(\"span\", {\n    className: styles.num\n  }, \"\\u30FB\", num_follower), \"\\u5173\\u6CE8\\u4E2D\"), curUserInfoJOSN.co_name && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-company\"\n  }), curUserInfoJOSN.co_name), curUserInfoJOSN.city && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-location\"\n  }), curUserInfoJOSN.city), curUserInfoJOSN.email && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-email\"\n  }), __jsx(\"a\", {\n    href: \"mailto:\".concat(curUserInfoJOSN.email),\n    className: \"link\"\n  }, curUserInfoJOSN.email)), curUserInfoJOSN.github && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-github-line\"\n  }), __jsx(\"a\", {\n    target: \"_blank\",\n    href: curUserInfoJOSN.github,\n    className: \"link\"\n  }, curUserInfoJOSN.github)), curUserInfoJOSN.social_link && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-link\"\n  }), __jsx(\"a\", {\n    target: \"_blank\",\n    href: curUserInfoJOSN.social_link,\n    className: \"link\"\n  }, curUserInfoJOSN.social_link))));\n}\n\nexport default Components;","map":null,"metadata":{},"sourceType":"module"}
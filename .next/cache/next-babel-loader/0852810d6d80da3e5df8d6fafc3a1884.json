{"ast":null,"code":"var __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport AV from 'leancloud-storage';\nimport dayjs from 'dayjs';\nimport { useRouter } from 'next/router';\nimport React, { useState, useEffect } from 'react';\nimport { Button, message } from 'antd';\nimport styles from './index.module.scss';\nimport { userFollow, userUnFollow, userFolloweeList } from 'src/service/user';\nComponents.defaultProps = {\n  followeeList: [],\n  userinfo: null,\n  time: null,\n  views: 0\n};\n\nfunction Components(props) {\n  var userinfoNew = JSON.parse(JSON.stringify(props.userinfo)); // const [followeeList, setfolloweeList] = useState([])\n\n  var _useState = useState(false),\n      isFollowing = _useState[0],\n      setisFollowing = _useState[1]; // const handleFetchFollowee = async () => {\n  //   const list = await userFolloweeList()\n  //   if (list) {\n  //     setfolloweeList(JSON.parse(JSON.stringify(list)))\n  //     localStorage.setItem('My_CMS_FolloweeList', JSON.stringify(list))\n  //     localStorage.setItem('My_CMS_FolloweeList_time', Date.now())\n  //   }\n  // }\n\n\n  useEffect(function () {// const fetchData = async () => {\n    //   if (\n    //     localStorage.getItem('My_CMS_FolloweeList') &&\n    //     Number(localStorage.getItem('My_CMS_FolloweeList_time')) + 5 * 60 * 1000 > Date.now()\n    //   ) {\n    //     const list = JSON.parse(localStorage.getItem('My_CMS_FolloweeList'))\n    //     setfolloweeList(list)\n    //   } else {\n    //     handleFetchFollowee()\n    //   }\n    // }\n    // fetchData()\n  }, []);\n  useEffect(function () {\n    props.followeeList.map(function (obj) {\n      if (obj.objectId === userinfoNew.user.objectId) {\n        setisFollowing(true);\n      }\n    });\n  }, [props.followeeList]);\n  return __jsx(React.Fragment, null, props.userinfo && __jsx(\"div\", {\n    className: styles.userinfo\n  }, __jsx(\"a\", {\n    href: \"/www/user/\".concat(userinfoNew.objectId),\n    target: \"_blank\",\n    style: {\n      display: 'block'\n    }\n  }, __jsx(\"div\", {\n    className: styles.userinfo_content\n  }, __jsx(\"div\", {\n    className: styles.avatar,\n    style: {\n      backgroundImage: \"url(\".concat(userinfoNew.avatar, \")\")\n    }\n  }), __jsx(\"div\", {\n    className: styles.userinfo_info\n  }, __jsx(\"p\", {\n    className: styles.nickname\n  }, userinfoNew.nickname), __jsx(\"p\", {\n    className: styles.about\n  }, userinfoNew.position, userinfoNew.co_name ? \"@\".concat(userinfoNew.co_name) : '', userinfoNew.position || userinfoNew.co_name ? 'ãƒ»' : '', props.time ? \"\".concat(props.time) : '', props.views ? \"\\u30FB\\u9605\\u8BFB \".concat(props.views) : ''))))));\n}\n\nexport default Components;","map":null,"metadata":{},"sourceType":"module"}
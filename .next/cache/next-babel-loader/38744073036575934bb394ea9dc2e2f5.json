{"ast":null,"code":"var __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport AV from 'leancloud-storage';\nimport dayjs from 'dayjs';\nimport { useRouter } from 'next/router';\nimport React, { useState, useEffect } from 'react';\nimport { BackTop, Button } from 'antd';\nimport styles from './index.module.scss';\nimport { userFolloweeNumber, userFollowerNumber } from 'src/service/user';\nComponents.defaultProps = {\n  curUserInfoJOSN: null\n};\n\nfunction Components(props) {\n  const {\n    0: num_followee,\n    1: setnum_followee\n  } = useState(0);\n  const {\n    0: num_follower,\n    1: setnum_follower\n  } = useState(0);\n  useEffect(() => {\n    async function fetchData() {\n      if (props.curUserInfo) {\n        setnum_followee(await userFolloweeNumber({\n          userItem: props.curUserInfo.attributes.user\n        }));\n        setnum_follower(await userFollowerNumber({\n          userItem: props.curUserInfo.attributes.user\n        }));\n      }\n    }\n\n    fetchData();\n  }, [props.curUserInfo]);\n  const curUserInfoJOSN = props.curUserInfo.toJSON();\n  return __jsx(React.Fragment, null, curUserInfoJOSN && __jsx(\"div\", {\n    className: styles.left\n  }, __jsx(\"div\", {\n    className: styles.avatar,\n    style: {\n      backgroundImage: `url(${curUserInfoJOSN.avatar})`\n    }\n  }), __jsx(\"div\", {\n    className: styles.nickname\n  }, curUserInfoJOSN.nickname), curUserInfoJOSN.position && __jsx(\"p\", {\n    className: styles.position\n  }, curUserInfoJOSN.position), curUserInfoJOSN.desc && __jsx(\"div\", {\n    className: styles.desc\n  }, curUserInfoJOSN.desc), AV.User.current() ? __jsx(React.Fragment, null, AV.User.current().id !== curUserInfoJOSN.user.objectId ? __jsx(Button, {\n    shape: \"round\",\n    className: styles.btn_follow\n  }, \"\\u5173\\u6CE8\") : __jsx(Link, {\n    href: \"/admin/user/account\"\n  }, __jsx(Button, {\n    shape: \"round\",\n    className: styles.btn_follow\n  }, \"\\u4FEE\\u6539\\u8D44\\u6599\"))) : __jsx(Link, {\n    href: \"/admin/user/account\"\n  }, __jsx(Button, {\n    shape: \"round\",\n    className: styles.btn_follow\n  }, \"\\u5173\\u6CE8\")), __jsx(\"p\", {\n    className: styles.follows_num\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-personnel\"\n  }), __jsx(\"span\", {\n    className: styles.num\n  }, num_followee), \"\\u5173\\u6CE8\\u8005\", __jsx(\"span\", {\n    className: styles.num\n  }, \"\\u30FB\", num_follower), \"\\u5173\\u6CE8\\u4E2D\"), curUserInfoJOSN.co_name && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-company\"\n  }), curUserInfoJOSN.co_name), curUserInfoJOSN.city && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-location\"\n  }), curUserInfoJOSN.city), curUserInfoJOSN.email && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-email\"\n  }), __jsx(\"a\", {\n    href: `mailto:${curUserInfoJOSN.email}`,\n    className: \"link\"\n  }, curUserInfoJOSN.email)), curUserInfoJOSN.github && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-github-line\"\n  }), __jsx(\"a\", {\n    target: \"_blank\",\n    href: curUserInfoJOSN.github,\n    className: \"link\"\n  }, curUserInfoJOSN.github)), curUserInfoJOSN.social_link && __jsx(\"div\", {\n    className: styles.item\n  }, __jsx(\"i\", {\n    className: \"iconfont icon-link\"\n  }), __jsx(\"a\", {\n    target: \"_blank\",\n    href: curUserInfoJOSN.social_link,\n    className: \"link\"\n  }, curUserInfoJOSN.social_link))));\n}\n\nexport default Components;","map":null,"metadata":{},"sourceType":"module"}
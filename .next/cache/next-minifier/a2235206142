{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{E60B:function(e,t,n){e.exports={uploader:\"Upload_uploader__no7Tl\",assets_body:\"Upload_assets_body__3fvwk\",assets_upload:\"Upload_assets_upload__CWA0E\",assets_imgitem:\"Upload_assets_imgitem__1GGix\",assets_imgitem_content:\"Upload_assets_imgitem_content__2uRRp\"}},EcWM:function(e,t,n){e.exports={item:\"InputItem_item__FTccp\",item_title:\"InputItem_item_title__q0ezZ\",item_right:\"InputItem_item_right__3yCzn\",item_right_logo:\"InputItem_item_right_logo__14aZj\"}},EeMl:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/manage/ad\",function(){return n(\"FORq\")}])},FORq:function(e,t,n){\"use strict\";n.r(t);var a=n(\"o0o1\"),o=n.n(a),i=(n(\"8Kt/\"),n(\"xy40\"),n(\"a6RD\"),n(\"TeRw\")),s=n(\"2/Rp\"),c=n(\"q1tI\"),l=n.n(c),r=n(\"lv9T\"),u=n.n(r),d=n(\"jhxP\"),m=(n(\"YFqc\"),n(\"m/3j\")),_=n.n(m),b=n(\"Qu4l\"),f=l.a.createElement;var p=function(e){var t=Object(c.useState)(!0),n=t[0],a=t[1],o=Object(c.useState)(!0),i=o[0],s=o[1],l=Object(c.useState)(!0),r=l[0],u=l[1],d=Object(c.useState)(\"\"),m=d[0],p=d[1],h=Object(c.useState)(\"\"),g=h[0],y=h[1],v=Object(c.useState)(\"\"),w=v[0],k=v[1];return Object(c.useEffect)((function(){a(e.label),s(e.id),u(e.show),p(e.title),y(e.adUrl),k(e.imgUrl)}),[]),Object(c.useEffect)((function(){e.onChange({key:i,label:n,show:r,title:m,adUrl:g,imgUrl:w})}),[m,r,g,w,i,n]),f(\"div\",{className:_.a.form},f(\"p\",{className:_.a._admin_body_section_title2},e.label),f(\"div\",{className:\"_admin_body_section_block\",style:{padding:30}},f(b.a,{title:\"\\u662f\\u5426\\u663e\\u793a\",type:\"switch\",value:r,onChange:function(e){u(e)}}),f(b.a,{title:\"\\u6807\\u9898\",placeholder:\"\\u8bf7\\u8f93\\u5165\\u6807\\u9898\",value:m,onChange:function(e){p(e)}}),f(b.a,{title:\"\\u5c01\\u9762\",type:\"image\",placeholder:\"\\u8bf7\\u8f93\\u5165\\u5c01\\u9762\",value:w,onChange:function(e){k(e)}}),f(b.a,{title:\"\\u5916\\u90e8\\u94fe\\u63a5\",placeholder:\"\\u8bf7\\u8f93\\u5165\\u5916\\u90e8\\u94fe\\u63a5\",value:g,onChange:function(e){y(e)}})))},h=n(\"Ruh/\"),g=n(\"je4i\"),y=n.n(g),v=[{label:\"\\u5e7f\\u544a\\u4f4d1 (270x220)\",show:!1,adUrl:\"\",imgUrl:\"\",key:y.a.generate()},{label:\"\\u5e7f\\u544a\\u4f4d2 (270x220)\",show:!1,adUrl:\"\",imgUrl:\"\",key:y.a.generate()},{label:\"\\u5e7f\\u544a\\u4f4d3 (270x220)\",show:!1,adUrl:\"\",imgUrl:\"\",key:y.a.generate()},{label:\"\\u5e7f\\u544a\\u4f4d4 (270x220)\",show:!1,adUrl:\"\",imgUrl:\"\",key:y.a.generate()},{label:\"\\u5e7f\\u544a\\u4f4d5 (270x220)\",show:!1,adUrl:\"\",imgUrl:\"\",key:y.a.generate()}],w=l.a.createElement;t.default=function(e){var t=Object(c.useState)(null),n=t[0],a=t[1],l=Object(c.useState)(null),r=l[0],m=l[1],_=Object(c.useState)([]),b=_[0],f=_[1],g=function(){Object(h.b)().then((function(e){e?(m(e),e.attributes.ads&&e.attributes.ads.length>0?f(e.attributes.ads):f(v)):Object(h.a)().then((function(t){m(t),t.attributes.ads&&t.attributes.ads.length>0?f(e.attributes.ads):f(v)}))}))};return Object(c.useEffect)((function(){g()}),[]),w(d.a,{onChange:function(e){a(e.userinfo)}},w(\"p\",{className:\"_admin_body_section_title\"},\"\\u5e7f\\u544a\\u8bbe\\u7f6e\"),n&&100===n.toJSON().priority&&r?w(\"div\",{className:u.a.ad},b.map((function(e,t){return w(p,{key:e.key,id:e.key,show:e.show,label:e.label,title:e.title,adUrl:e.adUrl,imgUrl:e.imgUrl,onChange:function(e){!function(e){var t=e.index,n=e.value,a=b;a[t]=n,f(a)}({index:t,value:e})}})})),w(s.a,{type:\"primary\",size:\"large\",onClick:function(){o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(Object(h.c)({profileItem:r,params:{ads:b}}));case 2:g(),i.a.success({message:\"\\u66f4\\u65b0\\u6210\\u529f\"});case 4:case\"end\":return e.stop()}}),null,null,null,Promise)}},\"\\u4fdd\\u5b58\")):w(\"div\",{className:\"_admin_body_section_block\",style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:100}},\"\\u6682\\u65e0\\u6743\\u9650\\uff0c\\u8bf7\\u8054\\u7cfb\\u7ba1\\u7406\\u5458\\u5f00\\u901a\\uff5e\"))}},Qk2m:function(e,t,n){e.exports={container:\"Layout_container__3k3Im\",body:\"Layout_body__1jffz\",footer_content:\"Layout_footer_content__2w_tK\",logo:\"Layout_logo__x1539\",copyright:\"Layout_copyright__1o4l6\"}},Qu4l:function(e,t,n){\"use strict\";var a=n(\"o0o1\"),o=n.n(a),i=(n(\"8Kt/\"),n(\"YFqc\"),n(\"nOHt\"),n(\"mFsd\"),n(\"q1tI\")),s=n.n(i),c=(n(\"xy40\"),n(\"pVnL\")),l=n.n(c),r=n(\"lSNA\"),u=n.n(r),d=n(\"rePB\"),m=n(\"ODXe\"),_=n(\"Ff2n\"),b=n(\"TSYQ\"),f=n.n(b),p=n(\"6cGi\"),h=n(\"4IlW\"),g=i.forwardRef((function(e,t){var n,a=e.prefixCls,o=void 0===a?\"rc-switch\":a,s=e.className,c=e.checked,l=e.defaultChecked,r=e.disabled,u=e.loadingIcon,b=e.checkedChildren,g=e.unCheckedChildren,y=e.onClick,v=e.onChange,w=e.onKeyDown,k=Object(_.a)(e,[\"prefixCls\",\"className\",\"checked\",\"defaultChecked\",\"disabled\",\"loadingIcon\",\"checkedChildren\",\"unCheckedChildren\",\"onClick\",\"onChange\",\"onKeyDown\"]),C=Object(p.a)(!1,{value:c,defaultValue:l}),O=Object(m.a)(C,2),j=O[0],x=O[1];function N(e,t){var n=j;return r||(x(n=e),null===v||void 0===v||v(n,t)),n}var S=f()(o,s,(n={},Object(d.a)(n,\"\".concat(o,\"-checked\"),j),Object(d.a)(n,\"\".concat(o,\"-disabled\"),r),n));return i.createElement(\"button\",Object.assign({},k,{type:\"button\",role:\"switch\",\"aria-checked\":j,disabled:r,className:S,ref:t,onKeyDown:function(e){e.which===h.a.LEFT?N(!1,e):e.which===h.a.RIGHT&&N(!0,e),null===w||void 0===w||w(e)},onClick:function(e){var t=N(!j,e);null===y||void 0===y||y(t,e)}}),u,i.createElement(\"span\",{className:\"\".concat(o,\"-inner\")},j?b:g))}));g.displayName=\"Switch\";var y=g,v=n(\"gZBC\"),w=n.n(v),k=n(\"g0mS\"),C=n(\"H84U\"),O=n(\"3Nzz\"),j=n(\"uaoM\"),x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},N=i.forwardRef((function(e,t){var n,a=e.prefixCls,o=e.size,s=e.loading,c=e.className,r=void 0===c?\"\":c,d=e.disabled,m=x(e,[\"prefixCls\",\"size\",\"loading\",\"className\",\"disabled\"]);Object(j.a)(\"checked\"in m||!(\"value\"in m),\"Switch\",\"`value` is not a valid prop, do you mean `checked`?\");var _=i.useContext(C.b),b=_.getPrefixCls,p=_.direction,h=i.useContext(O.b),g=b(\"switch\",a),v=i.createElement(\"div\",{className:\"\".concat(g,\"-handle\")},s&&i.createElement(w.a,{className:\"\".concat(g,\"-loading-icon\")})),N=f()((n={},u()(n,\"\".concat(g,\"-small\"),\"small\"===(o||h)),u()(n,\"\".concat(g,\"-loading\"),s),u()(n,\"\".concat(g,\"-rtl\"),\"rtl\"===p),n),r);return i.createElement(k.a,{insertExtraNode:!0},i.createElement(y,l()({},m,{prefixCls:g,className:N,disabled:d||s,ref:t,loadingIcon:v})))}));N.__ANT_SWITCH=!0,N.displayName=\"Switch\";var S=N,U=n(\"kLXV\"),E=n(\"EcWM\"),I=n.n(E),T=n(\"uYGA\"),P=(n(\"Jyo6\"),s.a.createElement);t.a=function(e){var t=Object(i.useState)(null),n=t[0],a=t[1],s=e.type||\"text\";return P(\"div\",{className:I.a.item,style:e.style||{}},P(\"div\",{className:I.a.item_title},e.title),P(\"div\",{className:I.a.item_right},\"text\"===s&&P(\"input\",{placeholder:e.placeholder||\"\\u8bf7\\u8f93\\u5165\",value:e.value||\"\",onChange:function(t){e.onChange(t.target.value)}}),\"switch\"===s&&P(S,{checkedChildren:\"\\u5f00\\u542f\",unCheckedChildren:\"\\u5173\\u95ed\",checked:e.value,onChange:function(t){e.onChange(t)}}),\"image\"===s&&P(\"a\",{onClick:function(){a(!0)}},e.value&&P(\"div\",{className:I.a.item_right_logo,style:{backgroundImage:\"url(\".concat(e.value,\")\")}}),\"\\u4e0a\\u4f20\")),P(U.a,{width:900,visible:n,onCancel:function(){a(!1)},onOk:function(){},okText:\"\\u4fdd\\u5b58\",cancelText:\"\\u53d6\\u6d88\",bodyStyle:{padding:0},footer:null},n&&P(T.a,{onChoose:function(t){var n;return o.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:n=t.url,a(!1),e.onChange(n);case 3:case\"end\":return o.stop()}}),null,null,null,Promise)}})))}},jhxP:function(e,t,n){\"use strict\";var a=n(\"o0o1\"),o=n.n(a),i=n(\"8Kt/\"),s=n.n(i),c=(n(\"YFqc\"),n(\"q1tI\")),l=n.n(c),r=n(\"xy40\"),u=n.n(r),d=n(\"a6RD\"),m=n.n(d),_=n(\"je4i\"),b=n.n(_),f=n(\"Qk2m\"),p=n.n(f),h=n(\"Ruh/\"),g=n(\"mhur\"),y=l.a.createElement,v=m()((function(){return Promise.all([n.e(0),n.e(5),n.e(6),n.e(7),n.e(51)]).then(n.bind(null,\"vwdz\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"vwdz\"]},modules:[\"src/components/admin/Nav\"]}}),w=m()((function(){return Promise.all([n.e(0),n.e(5),n.e(6),n.e(9),n.e(50)]).then(n.bind(null,\"2Ts+\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"2Ts+\"]},modules:[\"src/components/admin/Login\"]}}),k=m()((function(){return Promise.all([n.e(9),n.e(15),n.e(52)]).then(n.bind(null,\"zt1u\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"zt1u\"]},modules:[\"src/components/admin/BodyContent\"]}});function C(e){var t=Object(c.useState)(u.a.User.current()),n=t[0],a=(t[1],Object(c.useState)(null)),i=a[0],l=a[1],r=Object(c.useState)(null),d=r[0],m=r[1];return Object(c.useEffect)((function(){Object(h.b)().then((function(e){e?m(e):Object(h.a)().then((function(e){m(e)}))})),n&&function e(){var t,a;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.a.awrap(Object(g.b)());case 2:(t=i.sent)?l(t):((a=new u.a.Object(\"CMS_UserInfo\")).set(\"user\",n),a.set(\"nickname\",n.toJSON().username),a.set(\"priority\",1),a.set(\"shortid\",b.a.generate()),a.save().then((function(t){e()}),(function(e){})));case 4:case\"end\":return i.stop()}}),null,null,null,Promise)}()}),[]),Object(c.useEffect)((function(){e.onChange&&e.onChange({curUser:n,profile:d,userinfo:i})}),[n,d,i]),y(\"div\",{className:p.a.container},y(s.a,null,y(\"title\",null,\"\\u7ba1\\u7406\\u540e\\u53f0\")),y(v,{type:\"login\",curUser:n,userinfo:i,profile:d}),y(\"div\",{className:p.a.body,style:e.bodyStyle},!n&&y(w,{profile:d}),n&&y(k,{priority:i?i.toJSON().priority:0,userinfo:i,hideSidebar:e.hideSidebar},e.children)))}C.defaultProps={onChange:function(){},hideSidebar:!1,bodyStyle:{}},t.a=C},lv9T:function(e,t,n){e.exports={menus:\"manage_menus__362L2\",block:\"manage_block__XUJN_\",block_waring:\"manage_block_waring__i0FRS\",block_waring_waring:\"manage_block_waring_waring__Y44kD\",setting:\"manage_setting__uz7OE\",item:\"manage_item__1t2m1\",item_title:\"manage_item_title__14yTt\",item_right:\"manage_item_right__3DOiZ\",item_right_logo:\"manage_item_right_logo__1r1Z7\"}},\"m/3j\":function(e,t,n){e.exports={form:\"AdForm_form__zS5lk\",_admin_body_section_title2:\"AdForm__admin_body_section_title2__iuJxV\"}},uYGA:function(e,t,n){\"use strict\";var a=n(\"o0o1\"),o=n.n(a),i=(n(\"8Kt/\"),n(\"YFqc\"),n(\"xy40\"),n(\"Wgwc\"),n(\"q1tI\")),s=n.n(i),c=n(\"TeRw\"),l=n(\"8z0m\"),r=n(\"2/Rp\"),u=n(\"P5Jw\"),d=n(\"E60B\"),m=n.n(d),_=n(\"X0j1\"),b=s.a.createElement;t.a=function(e){var t=Object(i.useState)([]),n=t[0],a=t[1],s=Object(i.useState)([]);return s[0],s[1],Object(i.useEffect)((function(){!function(){var e;o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(Object(_.b)());case 2:e=t.sent,a(e);case 4:case\"end\":return t.stop()}}),null,null,null,Promise)}()}),[]),b(\"div\",{className:m.a.assets,style:e.onChoose?{height:600,overflow:\"hidden\",overflowY:\"scroll\"}:{}},b(\"div\",{className:\"_admin_body_section_block\",style:e.onChoose?{marginBottom:0,borderBottom:\"1px solid rgba(0,0,0,0.1)\",position:\"absolute\",top:0,left:0,zIndex:1e4,width:\"100%\"}:{}},b(\"div\",{className:\"_admin_body_section_block_nav\"},b(\"span\",{className:\"_admin_body_section_block_nav_item_active\"},\"\\u5168\\u90e8\"))),b(\"div\",{className:\"_admin_body_section_block\",style:e.onChoose?{boxShadow:\"none\"}:{}},b(\"div\",{className:m.a.assets_body,style:e.onChoose?{paddingTop:60}:{}},b(\"div\",{className:m.a.assets_imgitem},b(l.a,{name:\"avatar\",listType:\"picture-card\",className:m.a.uploader,showUploadList:!1,beforeUpload:function(e){var t,n;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.size/1024/1024<1){i.next=4;break}return c.a.error({message:\"\\u56fe\\u7247\\u5927\\u5c0f\\u8d85\\u51fa1M\\u9650\\u5236\\uff0c\\u8bf7\\u4fee\\u6539\\u540e\\u91cd\\u65b0\\u4e0a\\u4f20\"}),i.abrupt(\"return\",t);case 4:return i.next=6,o.a.awrap(Object(_.a)({e:e}));case 6:return i.next=8,o.a.awrap(Object(_.b)());case 8:n=i.sent,a(n);case 10:case\"end\":return i.stop()}}),null,null,null,Promise)},onChange:function(){},accept:\"image/png, image/jpeg, image/jpg\"},b(\"div\",{className:m.a.assets_upload},\"\\u4e0a\\u4f20\"))),n.map((function(t){return b(\"div\",{className:m.a.assets_imgitem,key:t.id,style:{backgroundImage:\"url(\".concat(t.attributes.url,\")\")}},b(\"div\",{className:m.a.assets_imgitem_content},e.onChoose&&b(r.a,{shape:\"round\",type:\"primary\",onClick:function(){e.onChoose({url:t.attributes.url})}},\"\\u9009\\u62e9\\u56fe\\u7247\"),b(u.CopyToClipboard,{text:t.attributes.url,onCopy:function(){c.a.success({message:\"\\u590d\\u5236\\u6210\\u529f\"})}},b(r.a,{shape:\"round\"},\"\\u590d\\u5236\\u56fe\\u7247url\"))))})))))}}},[[\"EeMl\",1,0,3,2,4,5,6,7,8,9,11,15]]]);"}